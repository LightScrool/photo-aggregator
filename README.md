# Агрегатор фото

## Зачем оно нужно
Скрипт помогает при такой проблеме:  
Несколько человек скинули фото с поездки, но из-за того, что телефоны у
всех разные, формат названия файлов отличается, что не позволяет
сортировать файлы по имени для получения хронологического порядка;
при этом датой создания файла в системе считается дата загрузки файла
на устройство, поэтому сортировать по дате тоже не получается.

## Что делает скрипт
Скрипт рекурсивно проходится по файлам папки со входными данными,
для каждого файла парсит время съёмки фотографии из метаданных и
сохраняет файл в выходную папку (без вложенности) с именем в формате
`YYYYMMDD_HHMMSS` (в случае возникновении коллизии, у второго файла
будет увеличено время создания на 1 секунду).

## Как использовать  
- Работоспособность проверена на MacOS (12.5.1), в других ОС вероятно
возникновение проблем с получением метаданных с помощью `mdls`.
- Для работы необходим `Python 3` и библиотека `shutil`.
- Конфигурация скриптом не предусмотрена, для изменений необходимо
править код.
- Входные данные (фото) нужно поместить в папку `input` рядом с файлом
скрипта. Входная папка будет обработана рекурсивно, поэтому можно
использовать любое количество уровне вложенности.
- Для исполнения скрипта необходимо выполнить с помощью Python 3 файл
`main.py`.
- После исполнения в папке `output` рядом с файлом скрипта появятся
переименованные копии файлов.
- Файлы, при обработке которых возникла ошибка, будут скопированы
в папку `errors` рядом с файлом скрипта. Текст ошибки будет залогирован
в файл `errors.txt` рядом с файлом скрипта.
